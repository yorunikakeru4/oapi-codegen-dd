// Code generated by oapi-codegen. DO NOT EDIT.

package autoextratags

import (
	"github.com/doordash-oss/oapi-codegen-dd/v3/pkg/runtime"
	"github.com/go-playground/validator/v10"
)

type User struct {
	// ID User unique identifier
	ID int64 `customvalidate:"required,min=1" json:"id" jsonschema:"User unique identifier" validate:"required"`

	// Email User email address
	Email runtime.Email `customvalidate:"required,email" json:"email" jsonschema:"User email address" validate:"required"`

	// Username Username for the account
	Username string `customvalidate:"required,min=3,max=20" json:"username" jsonschema:"Username for the account" validate:"required,max=20,min=3"`

	// Age User age in years
	Age *int `customvalidate:"omitempty,min=0,max=150" json:"age,omitempty" jsonschema:"User age in years" validate:"omitempty,gte=0,lte=150"`

	// Website User personal website URL
	Website *string `customvalidate:"omitempty,url" json:"website,omitempty" jsonschema:"User personal website URL"`

	// Bio User biography text
	Bio *string `customvalidate:"omitempty,max=500" json:"bio,omitempty" jsonschema:"User biography text" validate:"omitempty,max=500"`
}

func (u User) Validate() error {
	var errors runtime.ValidationErrors
	if err := typesValidator.Var(u.ID, "required"); err != nil {
		errors = errors.Append("ID", err)
	}
	if v, ok := any(u.Email).(runtime.Validator); ok {
		if err := v.Validate(); err != nil {
			errors = errors.Append("Email", err)
		}
	}
	if err := typesValidator.Var(u.Username, "required,max=20,min=3"); err != nil {
		errors = errors.Append("Username", err)
	}
	if u.Age != nil {
		if err := typesValidator.Var(u.Age, "omitempty,gte=0,lte=150"); err != nil {
			errors = errors.Append("Age", err)
		}
	}
	if u.Bio != nil {
		if err := typesValidator.Var(u.Bio, "omitempty,max=500"); err != nil {
			errors = errors.Append("Bio", err)
		}
	}
	if len(errors) == 0 {
		return nil
	}
	return errors
}

type Product struct {
	// Name Product name
	Name string `customvalidate:"required" json:"name" jsonschema:"Product name" validate:"required"`

	// Price Product price in USD
	Price float32 `customvalidate:"required,min=0" json:"price" jsonschema:"Product price in USD" validate:"required,gte=0"`

	// Tags Product tags for categorization
	Tags []string `customvalidate:"omitempty,dive,min=1" json:"tags,omitempty" jsonschema:"Product tags for categorization"`

	// Metadata Additional product metadata
	Metadata map[string]string `json:"metadata,omitempty" jsonschema:"Additional product metadata"`
}

func (p Product) Validate() error {
	return runtime.ConvertValidatorError(typesValidator.Struct(p))
}

var typesValidator *validator.Validate

func init() {
	typesValidator = validator.New(validator.WithRequiredStructEnabled())
	runtime.RegisterCustomTypeFunc(typesValidator)
}
